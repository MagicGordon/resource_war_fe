(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(441)}])},8002:function(t,n,e){"use strict";e.d(n,{Dv:function(){return a},L0:function(){return i},Pz:function(){return o},UE:function(){return c},Zt:function(){return u},uz:function(){return s}});var r=e(3454),a=(r.env.NEXT_PUBLIC_NFT_STORAGE_KEY,r.env.NEXT_PUBLIC_SUPABASE_KEY,r.env.NEXT_PUBLIC_SUPABASE_URL,"ResourceWar"),o="0xf093300b43dace3ec1bc41acf970f40cf9cee6b035160523a494e5bb5f0b1597",i="0x3fed6857c9cca07cd34df428257e6234c47b051e5802afcd761aab33af1f0664",s="0x1::aptos_coin::AptosCoin",c="https://fullnode.testnet.aptoslabs.com/v1/",u="https://faucet.devnet.aptoslabs.com/v1/"},441:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return _}});var r=e(7568),a=e(1799),o=e(9396),i=e(603),s=e(414),c=e(5893),u=e(8002),d=e(3032),l=e(7294),p=e(6772),f=e(7476);function _(){var t=function(){C.description,C.resource_path,C.addr_type,C.addr,C.addr_description,C.chains;return{type:"entry_function_payload",function:u.Pz+"::entrys::create_miner",type_arguments:[],arguments:[]}},n=function(){var t=C.description;C.resource_path,C.addr_type,C.addr,C.addr_description,C.chains;return{type:"entry_function_payload",function:u.Pz+"::entrys::claim_reward",type_arguments:[],arguments:[t]}},e=(0,d.useWallet)(),_=e.account,h=e.signAndSubmitTransaction,b=new p.WalletClient(u.UE,u.Zt),y=(0,i.Z)(l.useState(),2),m=y[0],g=y[1],k=(0,i.Z)(l.useState({tokens:[]}),2),x=k[0],w=k[1],v=(0,l.useState)({description:"",resource_path:"",addr_type:1,addr:"",addr_description:"",chains:[]}),C=v[0],S=v[1];function N(){return(N=(0,r.Z)((function(){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,h(t(),{gas_unit_price:100})];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}function E(){return(E=(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,h(n(),{gas_unit_price:100})];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function T(t,n){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)((function(t,n){var e,r,a,o;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return n?[3,2]:[4,b.aptosClient.getAccountResources(_.address.toString())];case 1:r=i.sent(),e=r.find((function(t){return"0x3::token::TokenStore"===t.type})),i.label=2;case 2:return a={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:t},[4,b.aptosClient.getTableItem(n||e.data.tokens.handle,a)];case 3:return(o=i.sent()).collection=t.token_data_id.collection,[2,o]}}))}))).apply(this,arguments)}function A(){return(A=(0,r.Z)((function(){var t,n,e,r,a,o,i,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,b.getTokenIds(_.address.toString())];case 1:t=s.sent().tokenIds,n=[],e=0,r=0,s.label=2;case 2:return r<t.length?(console.log(t[r].data.token_data_id.creator),console.log(u.L0),"1"!=t[r].data.property_version||t[r].data.token_data_id.creator!=u.L0?[3,4]:(console.log(t[r]),[4,T(t[r].data)])):[3,5];case 3:a=s.sent(),console.log(a),o=a.token_properties.map.data[0].value.value.slice(2),i=new f.Deserializer(new Uint8Array(o.match(/.{1,2}/g).map((function(t){return parseInt(t,16)})))),c=i.deserializeU64().toString(),n[e]={name:a.id.token_data_id.name,"last claim timestamp":c},e++,s.label=4;case 4:return++r,[3,2];case 5:return w({tokens:n}),[2]}}))}))).apply(this,arguments)}function P(){return(P=(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){return b.aptosClient.getAccountResource(_.address.toString(),"0x1::coin::CoinStore<"+u.Pz+"::resource::Resource>").then(g),[2]}))}))).apply(this,arguments)}return(0,c.jsxs)("div",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return N.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Create Miner"}),(0,c.jsx)("br",{}),(0,c.jsx)("input",{placeholder:"input token name",className:"mt-8 p-4 input input-bordered input-primary w-full",onChange:function(t){return S((0,o.Z)((0,a.Z)({},C),{description:t.target.value}))}}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return E.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Claim Reward"}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return A.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Get User Tokens"}),(0,c.jsx)("p",{children:JSON.stringify(x)}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return P.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Get Resource Token Amount"}),(0,c.jsx)("p",{children:JSON.stringify(null===m||void 0===m?void 0:m.data)}),(0,c.jsx)("br",{})]})}}},function(t){t.O(0,[980,774,888,179],(function(){return n=8312,t(t.s=n);var n}));var n=t.O();_N_E=n}]);