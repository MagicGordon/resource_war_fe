(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(441)}])},8002:function(t,e,n){"use strict";n.d(e,{Dv:function(){return a},L0:function(){return i},Pz:function(){return o},UE:function(){return c},Zt:function(){return u},uz:function(){return s}});var r=n(3454),a=(r.env.NEXT_PUBLIC_NFT_STORAGE_KEY,r.env.NEXT_PUBLIC_SUPABASE_KEY,r.env.NEXT_PUBLIC_SUPABASE_URL,"ResourceWar"),o="0xd03866045cf7b95a8f1abe65ea7db7fcc045489669ea6fef76fc6d7fddea86ce",i="0xbe2250f80254c16a80ac1d22e2bca43f2c11c8b35179063567534cd8971e6d6e",s="0x1::aptos_coin::AptosCoin",c="https://fullnode.devnet.aptoslabs.com/v1/",u="https://faucet.devnet.aptoslabs.com/v1/"},441:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var r=n(7568),a=n(1799),o=n(9396),i=n(603),s=n(414),c=n(5893),u=n(8002),d=n(3032),l=n(7294),p=n(6772),_=n(7476);function f(){var t=function(){C.description,C.resource_path,C.addr_type,C.addr,C.addr_description,C.chains;return{type:"entry_function_payload",function:u.Pz+"::entrys::create_miner",type_arguments:[],arguments:[]}},e=function(){var t=C.description;C.resource_path,C.addr_type,C.addr,C.addr_description,C.chains;return{type:"entry_function_payload",function:u.Pz+"::entrys::claim_reward",type_arguments:[],arguments:[t]}},n=(0,d.useWallet)(),f=n.account,h=n.signAndSubmitTransaction,b=new p.WalletClient(u.UE,u.Zt),y=(0,i.Z)(l.useState(),2),g=y[0],m=y[1],k=(0,i.Z)(l.useState({tokens:[]}),2),x=k[0],v=k[1],w=(0,l.useState)({description:"",resource_path:"",addr_type:1,addr:"",addr_description:"",chains:[]}),C=w[0],S=w[1];function N(){return(N=(0,r.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,h(t(),{gas_unit_price:100})];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}function E(){return(E=(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,h(e(),{gas_unit_price:100})];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function T(t,e){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)((function(t,e){var n,r,a,o;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return e?[3,2]:[4,b.aptosClient.getAccountResources(f.address.toString())];case 1:r=i.sent(),n=r.find((function(t){return"0x3::token::TokenStore"===t.type})),i.label=2;case 2:return a={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:t},[4,b.aptosClient.getTableItem(e||n.data.tokens.handle,a)];case 3:return(o=i.sent()).collection=t.token_data_id.collection,[2,o]}}))}))).apply(this,arguments)}function A(){return(A=(0,r.Z)((function(){var t,e,n,r,a,o,i,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,b.getTokenIds(f.address.toString())];case 1:t=s.sent().tokenIds,e=[],n=0,r=0,s.label=2;case 2:return r<t.length?(console.log(t[r].data.token_data_id.creator),console.log(u.L0),"1"!=t[r].data.property_version||t[r].data.token_data_id.creator!=u.L0?[3,4]:(console.log(t[r]),[4,T(t[r].data)])):[3,5];case 3:a=s.sent(),console.log(a),o=a.token_properties.map.data[0].value.value.slice(2),i=new _.Deserializer(new Uint8Array(o.match(/.{1,2}/g).map((function(t){return parseInt(t,16)})))),c=i.deserializeU64().toString(),e[n]={name:a.id.token_data_id.name,source:a.token_properties.map.data[0].value.value,pro:c},n++,s.label=4;case 4:return++r,[3,2];case 5:return v({tokens:e}),[2]}}))}))).apply(this,arguments)}function P(){return(P=(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){return b.aptosClient.getAccountResource(f.address.toString(),"0x1::coin::CoinStore<"+u.Pz+"::resource::Resource>").then(m),[2]}))}))).apply(this,arguments)}return(0,c.jsxs)("div",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return N.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Create Miner"}),(0,c.jsx)("br",{}),(0,c.jsx)("input",{placeholder:"Description for your DID",className:"mt-8 p-4 input input-bordered input-primary w-full",onChange:function(t){return S((0,o.Z)((0,a.Z)({},C),{description:t.target.value}))}}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return E.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Claim Reward"}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return A.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Get User Tokens"}),(0,c.jsx)("p",{children:JSON.stringify(x)}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){return P.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Get Resource Token Amount"}),(0,c.jsx)("p",{children:JSON.stringify(g)}),(0,c.jsx)("br",{})]})}}},function(t){t.O(0,[980,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);